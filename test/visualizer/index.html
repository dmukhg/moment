<!DOCTYPE html>
<html>
  <head>
    <title>Spiking visualizer</title>
    <link rel="stylesheet" href="base.css"/>
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="jquery.flot.js"></script>

  </head>
  <body>
    <div class="separator">&nbsp;</div>
    <div class="page">
      <div class="column input">
        <h1>Spiking Visualizer</h1>
        <form>
          <textarea class="coord">[    ]</textarea>
          <div class="form-actions">
            <input type="reset" class="draw-btn" id="reset"></input>
            <button class="draw-btn" id="draw">Draw!</button>
          </div>
        </form>
      </div>
      <span class="separator">&nbsp;</span>
      <div class="column pl-wrapper" style="width:890px;">
        <div id="placeholder-1" class="placeholder pl-selected" style="width:850px;height:300px;">&nbsp;</div>

        <button class="add-btn" id="add-pl">Add a new plotting area</button>
      </div>
    </div>
        <script type="text/javascript">
      function init() {
        var select_placeholder = function (e) {
            $('div.placeholder').removeClass('pl-selected');

            $(e.currentTarget).addClass('pl-selected');
        };

        $('button').click(function(e) {
            e.preventDefault();
        });

        $('div.placeholder').click(select_placeholder);

        $('button#draw').click(function (e) {
            var d1 = eval( $('textarea.coord').first().val() );

            $.plot( $('div.pl-selected'), [{
              data: d1,
              color: 'rgb(23, 43, 145)',
            }]);
        });

        $('button#add-pl').click(function(e) {
            var placeholder = $('<div class="placeholder" style="width:850px;height:300px;">&nbsp;</div>');
            $(placeholder).click(select_placeholder);
            $(e.currentTarget).before($(placeholder));
        });
      };

      $(window).load(init);
    </script>
  </body>
</html>


